# Variables d’environnement spécifiques au module de recherche.
# Copiez/collez les clés suivantes dans votre fichier `.env` ou fusionnez-les
# avec la racine `.env.example` selon vos besoins.

# --- SearxNG ---
SEARCH_SEARX_BASE_URL=http://searxng:8080
SEARCH_SEARX_API_PATH=/search
SEARCH_SEARX_TIMEOUT_MS=15000
# Aligné sur `docker/docker-compose.search.yml` pour que les stacks locaux et CI
# partagent exactement la même liste d'engines sans nécessiter de variables
# supplémentaires.
SEARCH_SEARX_ENGINES=ddg,wikipedia,arxiv,github,mojeek
SEARCH_SEARX_CATEGORIES=general,news,images,files
SEARCH_SEARX_AUTH_TOKEN=

# --- Unstructured ---
UNSTRUCTURED_BASE_URL=http://unstructured:8000
UNSTRUCTURED_TIMEOUT_MS=30000
UNSTRUCTURED_STRATEGY=hi_res
UNSTRUCTURED_API_KEY=

# --- Fetching & extraction guards ---
SEARCH_FETCH_TIMEOUT_MS=20000
SEARCH_FETCH_MAX_BYTES=15000000
SEARCH_FETCH_UA=CodexSearchBot/1.0
# Activez `SEARCH_FETCH_RESPECT_ROBOTS` en production afin d'honorer les règles
# `robots.txt`. Passez la valeur à `0` uniquement pour le développement local.
SEARCH_FETCH_RESPECT_ROBOTS=1
SEARCH_PARALLEL_FETCH=4
SEARCH_PARALLEL_EXTRACT=2
SEARCH_MAX_RESULTS=12
SEARCH_FETCH_DOMAIN_DELAY_MS=0
SEARCH_FETCH_CACHE_ENABLED=false
SEARCH_FETCH_CACHE_TTL_MS=600000
SEARCH_FETCH_CACHE_MAX_ENTRIES=16
SEARCH_FETCH_CACHE_CLIENT_ERROR_MS=300000
SEARCH_FETCH_CACHE_SERVER_ERROR_MS=60000
SEARCH_FETCH_CACHE_DOMAIN_TTLS=

# --- Ingestion toggles ---
SEARCH_INJECT_GRAPH=true
SEARCH_INJECT_VECTOR=true

# --- Mémoire vectorielle ---
MCP_MEMORY_VECTOR_MAX_CHUNKS_PER_DOC=24
