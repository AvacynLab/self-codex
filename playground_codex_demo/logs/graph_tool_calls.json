[
  {
    "tool": "graph_generate",
    "input": {
      "sourcePath": "graphs/pipeline.gf",
      "source": "// Pipeline de CI/CD pour démonstration Graph Forge\n// Les attributs duration et cost sont utilisés par les scripts locaux\n// pour simuler une planification et des optimisations simples.\n\ngraph Pipeline {\n  directive allowCycles false;\n\n  node lint_core        { label: \"Lint coeur\",           duration: 3, cost: 1.5 }\n  node lint_ui          { label: \"Lint UI\",              duration: 2, cost: 1.2 }\n  node lint_api         { label: \"Lint API\",             duration: 2, cost: 1.1 }\n  node test_unit        { label: \"Tests unitaires\",      duration: 5, cost: 3.5 }\n  node test_integration { label: \"Tests d'intégration\",  duration: 8, cost: 4.2 }\n  node build_bundle     { label: \"Build\",                duration: 6, cost: 4.0 }\n  node docs_generate    { label: \"Documentation\",        duration: 3, cost: 1.8 }\n  node package_artifacts { label: \"Packaging\",            duration: 4, cost: 2.0 }\n\n  edge lint_core -> test_unit         { weight: 3 }\n  edge lint_ui -> test_unit           { weight: 2 }\n  edge lint_api -> test_unit          { weight: 2 }\n  edge test_unit -> test_integration  { weight: 5 }\n  edge test_unit -> build_bundle      { weight: 5 }\n  edge test_integration -> build_bundle { weight: 8 }\n  edge build_bundle -> docs_generate  { weight: 6 }\n  edge build_bundle -> package_artifacts { weight: 6 }\n  edge docs_generate -> package_artifacts { weight: 3 }\n}\n"
    },
    "output": {
      "name": "Pipeline",
      "nodeCount": 8,
      "edgeCount": 9
    },
    "summary": "8 nœuds / 9 arêtes générés depuis pipeline.gf",
    "verdict": "SIMULATED_OK",
    "artefacts": [
      "graphs/demo_graph.json"
    ]
  },
  {
    "tool": "graph_mutate",
    "input": {
      "addedNode": "deploy_stage",
      "addedEdges": [
        {
          "from": "package_artifacts",
          "to": "deploy_stage"
        },
        {
          "from": "docs_generate",
          "to": "deploy_stage"
        }
      ]
    },
    "output": {
      "nodeCount": 9,
      "edgeCount": 11
    },
    "summary": "Mutation appliquée : ajout de deploy_stage → 9 nœuds, 11 arêtes",
    "verdict": "SIMULATED_OK",
    "artefacts": []
  },
  {
    "tool": "graph_export",
    "input": {
      "format": "json",
      "target": "exports/demo_graph.json"
    },
    "output": {
      "size": 1589
    },
    "summary": "Export JSON complet pour inspection automatisée",
    "verdict": "SIMULATED_OK",
    "artefacts": [
      "exports/demo_graph.json"
    ]
  },
  {
    "tool": "graph_export",
    "input": {
      "format": "mermaid",
      "target": "exports/demo_graph.mmd"
    },
    "output": {
      "lineCount": 21
    },
    "summary": "Diagramme Mermaid généré pour visualisation textuelle",
    "verdict": "SIMULATED_OK",
    "artefacts": [
      "exports/demo_graph.mmd"
    ]
  },
  {
    "tool": "graph_export",
    "input": {
      "format": "dot",
      "target": "exports/demo_graph.dot"
    },
    "output": {
      "lineCount": 23
    },
    "summary": "Export DOT prêt pour Graphviz",
    "verdict": "SIMULATED_OK",
    "artefacts": [
      "exports/demo_graph.dot"
    ]
  },
  {
    "tool": "graph_validate",
    "input": {
      "checks": [
        "cycles"
      ]
    },
    "output": {
      "hasCycle": false,
      "cycleCount": 0
    },
    "summary": "Pas de cycle détecté",
    "verdict": "SIMULATED_OK",
    "artefacts": []
  },
  {
    "tool": "graph_summarize",
    "input": {
      "metrics": [
        "averageDegree",
        "layers",
        "betweenness"
      ]
    },
    "output": {
      "nodeCount": 9,
      "edgeCount": 11,
      "averageDegree": 2.4444444444444446,
      "topCritical": [
        {
          "node": "test_unit",
          "score": 0.26785714285714285
        },
        {
          "node": "build_bundle",
          "score": 0.26785714285714285
        },
        {
          "node": "docs_generate",
          "score": 0.10714285714285714
        }
      ]
    },
    "summary": "Résumé : 9 nœuds, degré moyen 2.44",
    "verdict": "SIMULATED_OK",
    "artefacts": []
  },
  {
    "tool": "graph_paths_k_shortest",
    "input": {
      "source": "lint_core",
      "target": "deploy_stage",
      "k": 3,
      "weightAttribute": "weight"
    },
    "output": [
      {
        "distance": 17,
        "path": [
          "lint_core",
          "test_unit",
          "build_bundle",
          "docs_generate",
          "deploy_stage"
        ]
      },
      {
        "distance": 18,
        "path": [
          "lint_core",
          "test_unit",
          "build_bundle",
          "package_artifacts",
          "deploy_stage"
        ]
      },
      {
        "distance": 21,
        "path": [
          "lint_core",
          "test_unit",
          "build_bundle",
          "docs_generate",
          "package_artifacts",
          "deploy_stage"
        ]
      }
    ],
    "summary": "3 chemins calculés (meilleur coût 17)",
    "verdict": "SIMULATED_OK",
    "artefacts": []
  },
  {
    "tool": "graph_paths_constrained",
    "input": {
      "source": "lint_core",
      "target": "deploy_stage",
      "avoidNodes": [
        "test_integration"
      ],
      "weightAttribute": "weight"
    },
    "output": {
      "status": "found",
      "path": [
        "lint_core",
        "test_unit",
        "build_bundle",
        "docs_generate",
        "deploy_stage"
      ],
      "distance": 17
    },
    "summary": "Chemin alternatif trouvé (coût 17)",
    "verdict": "SIMULATED_OK",
    "artefacts": []
  },
  {
    "tool": "graph_centrality_betweenness",
    "input": {
      "weighted": true,
      "weightAttribute": "weight",
      "normalise": true
    },
    "output": [
      {
        "node": "test_unit",
        "score": 0.26785714285714285
      },
      {
        "node": "build_bundle",
        "score": 0.26785714285714285
      },
      {
        "node": "docs_generate",
        "score": 0.10714285714285714
      },
      {
        "node": "lint_core",
        "score": 0
      },
      {
        "node": "lint_ui",
        "score": 0
      }
    ],
    "summary": "Top pivots : test_unit, build_bundle, docs_generate",
    "verdict": "SIMULATED_OK",
    "artefacts": []
  },
  {
    "tool": "graph_simulate",
    "input": {
      "maxParallel": 2
    },
    "output": {
      "makespan": 35,
      "eventCount": 18
    },
    "summary": "Simulation terminée (makespan 35)",
    "verdict": "SIMULATED_OK",
    "artefacts": [
      "logs/simulation_events.json"
    ]
  },
  {
    "tool": "graph_critical_path",
    "input": {
      "weightAttribute": "weight"
    },
    "output": {
      "path": [
        "lint_core",
        "test_unit",
        "test_integration",
        "build_bundle",
        "docs_generate",
        "package_artifacts",
        "deploy_stage"
      ],
      "length": 29
    },
    "summary": "Chemin critique (lint_core → test_unit → test_integration → build_bundle → docs_generate → package_artifacts → deploy_stage)",
    "verdict": "SIMULATED_OK",
    "artefacts": []
  },
  {
    "tool": "graph_optimize",
    "input": {
      "objective": "makespan",
      "scenarios": [
        "Tests intégration parallélisés",
        "Build incrémental",
        "Templates docs précompilés",
        "Packaging cache compressé"
      ]
    },
    "output": {
      "best": "Tests intégration parallélisés + Build incrémental + Templates docs précompilés + Packaging cache compressé",
      "makespan": 30,
      "totalCost": 26.3
    },
    "summary": "Scénario optimal retenu : Tests intégration parallélisés + Build incrémental + Templates docs précompilés + Packaging cache compressé (makespan 30)",
    "verdict": "SIMULATED_OK",
    "artefacts": []
  },
  {
    "tool": "graph_optimize_moo",
    "input": {
      "objectives": [
        "makespan",
        "cost"
      ]
    },
    "output": [
      {
        "key": "Tests intégration parallélisés + Build incrémental + Templates docs précompilés + Packaging cache compressé",
        "makespan": 30,
        "totalCost": 26.3
      },
      {
        "key": "Tests intégration parallélisés + Templates docs précompilés + Packaging cache compressé",
        "makespan": 31,
        "totalCost": 25.3
      },
      {
        "key": "Tests intégration parallélisés + Templates docs précompilés",
        "makespan": 32,
        "totalCost": 24.6
      },
      {
        "key": "Templates docs précompilés + Packaging cache compressé",
        "makespan": 33,
        "totalCost": 23.900000000000002
      },
      {
        "key": "Templates docs précompilés",
        "makespan": 34,
        "totalCost": 23.200000000000003
      },
      {
        "key": "Baseline",
        "makespan": 35,
        "totalCost": 22.6
      }
    ],
    "summary": "6 solutions Pareto",
    "verdict": "SIMULATED_OK",
    "artefacts": []
  }
]
