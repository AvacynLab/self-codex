# Exemple de configuration pour mcp-self-fork-orchestrator
# Renseignez les variables nécessaires puis chargez-les via `source .env.example`
# avant de lancer `npm run start:http` ou la suite de tests.

# Activation HTTP : laissez `0` pour un démarrage STDIO seul, passez à `1` pour
# lancer le serveur HTTP via `scripts/setup-agent-env.sh`.
START_HTTP=0

# Jeton HTTP requis pour les endpoints protégés (/readyz, /metrics, JSON-RPC).
# Exemple : `tok_dev_d2f8b0e4d4ce4ffb8a3a0dd10f4a1c1d`
MCP_HTTP_TOKEN=remplacez-moi

# Configuration par défaut du transport streamable.
MCP_HTTP_HOST=0.0.0.0
MCP_HTTP_PORT=4000
MCP_HTTP_PATH=/mcp

# Budgets SSE (chunking, tampon, timeout d'émission) — conserver les valeurs par défaut si possible.
MCP_SSE_MAX_CHUNK_BYTES=32768
MCP_SSE_MAX_BUFFER=1048576
MCP_SSE_EMIT_TIMEOUT_MS=5000

# Pool de workers graph (diff/validate) — laissez `0` pour désactiver l'offload automatique.
MCP_GRAPH_WORKERS=0
MCP_GRAPH_POOL_THRESHOLD=6

# Budgets/idempotence des façades.
# `MCP_TOOL_PACK=basic` conserve l'ensemble onboarding recommandé.
MCP_TOOLS_MODE=basic
MCP_TOOL_PACK=basic
IDEMPOTENCY_TTL_MS=600000

# Exemple d'override de budgets (facultatif) :
# Overrides facultatifs : MCP_TOOLS_BUDGET_<NOM_OUTIL>_{TIME_MS|TOOL_CALLS|BYTES_OUT}
# MCP_TOOLS_BUDGET_CHILD_ORCHESTRATE_TOOL_CALLS=5
# MCP_TOOLS_BUDGET_PLAN_COMPILE_EXECUTE_TIME_MS=240000

# Observabilité : exporter les traces OTLP si un collecteur est disponible.
OTEL_EXPORTER_OTLP_ENDPOINT=
OTEL_EXPORTER_OTLP_HEADERS=

# Journalisation (redaction/rotation).
MCP_LOG_REDACT=on
MCP_LOG_FILE=logs/orchestrator.log
MCP_LOG_ROTATE_SIZE=10485760
MCP_LOG_ROTATE_KEEP=5
